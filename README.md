Оптимизация маршрутов курьерской службы с учетом динамических изменений 


В приложении используется Алгоритм Кристофидеса, это аппроксимационный алгоритм для решения задачи коммивояжёра в метрическом пространстве, где расстояния симметричны и удовлетворяют неравенству треугольника
Алгоритм состоит из следующих основных шагов:
1.	Построение минимального остовного дерева (MST) графа с вершинами, соответствующими городам, и рёбрами, взвешенными расстояниями между ними. Для этого обычно используют алгоритмы Прима или Краскала.
2.	Определение множества вершин с нечётной степенью в MST. По теореме, таких вершин всегда чётное число.
3.	Поиск минимального совершенного паросочетания на множестве нечётных вершин. Это паросочетание добавляется к MST, чтобы получить граф, в котором все вершины имеют чётную степень.
4.	Построение эйлерова цикла в полученном графе, поскольку граф с чётной степенью всех вершин гарантированно содержит эйлеров цикл.
5.	Преобразование эйлерова цикла в гамильтонов цикл путём обхода эйлерова цикла и пропуска повторных вершин (shortcutting), что даёт приближённое решение задачи коммивояжёра.
Алгоритм гарантирует, что длина найденного маршрута не превышает 3223 от оптимального решения, что является лучшим известным аппроксимационным коэффициентом для метрической задачи коммивояжёра общего вида.


1.6.1 Класс MainWindow.xaml.cs
Основное окно приложения, содержащее графический интерфейс и логику взаимодействия с пользователем.
Поля доступа private:
Canvas_MouseLeftButtonDown	Обработчик клика на Canvas. Получает координаты клика и преобразует их в "географические" координаты. Добавляет новую точку в коллекцию Points с уникальным идентификатором. Обновляет масштабированные точки и геометрию пути
GetOrder_Click	Обработчик нажатия кнопок с различными типами заказов. Очищает текущие точки и добавляет новые точки на основе выбранного типа заказа. Обновляет вес и количество точек в маршруте
Методы доступа public
Canvas_MouseLeftButtonDown	Обработчик клика на Canvas. Получает координаты клика и преобразует их в "географические" координаты. Добавляет новую точку в коллекцию Points с уникальным идентификатором. Обновляет масштабированные точки и геометрию пути
GetOrder_Click	Обработчик нажатия кнопок с различными типами заказов. Очищает текущие точки и добавляет новые точки на основе выбранного типа заказа. Обновляет вес и количество точек в маршруте
NewPath_Click	Обработчик нажатия кнопки "Пересчитать маршрут". Создает массив заказов из текущих точек. Пересчитывает оптимальный маршрут и обновляет интерфейс

1.6.2 Класс MainViewModel.cs
Модель представления, управляющая данными и логикой приложения.
Поля доступа private:
Points	Коллекция точек, отображаемых на канвасе
PathGeometry	Геометрия пути, используемая для отображения линий на канвасе
Поля доступа public:
AddPoint	Добавляет новую точку в коллекцию Points. Обновляет минимальные и максимальные значения координат. Обновляет масштабированные точки и геометрию пути
ScaleX	Масштабирует X-координаты точек для отображения на канвасе
ScaleY	Масштабирует Y-координаты точек для отображения на канвасе
InverseScaleX	Преобразует X-координаты канваса в "географические" координаты
InverseScaleY	Преобразует Y-координаты канваса в "географические" координаты
UpdateScaledPointsAndPath	Масштабирует точки и обновляет геометрию пути. Обновляет позиции точек на канвасе
UpdatePath	Обновляет геометрию пути на основе текущих точек

1.6.3 Класс DeliveryPoint.cs
Представляет точку на карте с координатами, приоритетом и идентификатором.
Поля доступа private:
X	X-координата точки
Y	Y-координата точки
Priority	Приоритет точки
ID	Уникальный идентификатор точки
CanvasX	X-координата точки на канвасе
CanvasY	Y-координата точки на канвасе

1.6.4 Класс CalculateRoute.cs
Вычисляет оптимальный маршрут на основе заданных точек.
Поля доступа public:
GetMinOrdersPatch	Вычисляет минимальный маршрут, учитывая приоритет и расстояние между точками. Возвращает список идентификаторов точек в порядке их посещения
Поля доступа private:
BuildMST	Строит минимальное остовное дерево (MST) графа с помощью алгоритма Прима.
FindOddDegreeVertices	Анализирует рёбра MST и вычисляет степень каждой вершины.
MinimumWeightPerfectMatching	Находит приближённое минимальное совершенное паросочетание на множестве нечётных вершин.
CombineGraphs	Объединяет рёбра MST и рёбра минимального паросочетания в мультиграф.
FindEulerianCircuit	Находит эйлеров цикл в мультиграфе (графе, где все вершины имеют чётную степень).
EulerToHamiltonian	Преобразует эйлеров цикл в гамильтонов цикл, пропуская повторяющиеся вершины.

1.6.5 Класс PriorityInputDialog.cs
Наследуется от Window. Представляет диалоговое окно для ввода приоритета.
Поля доступа private:
inputTextBox	Текстовое поле для ввода значения приоритета
okButton	Кнопка подтверждения ввода
Поля доступа public:
PriorityInputDialog()	Конструктор класса. Инициализирует диалоговое окно с элементами интерфейса
Поля доступа private:
OkButton_Click(object sender, RoutedEventArgs e)	Обработчик события нажатия кнопки ОК. Валидирует введенное значение и устанавливает свойство Priority
